#+startup:fold
* init_project.py                                                            

  _init_project.py_ is present in each directory corrresponding to a dataset family
  It defines the configuration of all grid jobs for this family

- a Mu2e job is defined by its input dataset and the configuration (FHICL) file

- generation may consists of several stages, each stage may have several jobs, for example 

  - stage 1:
    - job 1: generation of proton interaction in the production target and tracing the beam down to TS3
    - job 2: concatenation of the job 1 output
    - job 3: ntupling of the stage 1 output

- a Mu2e job is therefore defined by its input dataset and the configuration (FHICL) file

  For each dataset family, all grid jobs for all stages are defined 
  in a file _$project/datasets/$family/init_project.py_ 

- definition of the input dataset:

 job.fInputDataset = Dataset(defname,dsid,location)

  parameters:

  - defname  : full dataset definition name, i.e. 'dig.mu2e.bmum1s52b0.pbar2m.art'
    - defname='generator' : dataset has no input files, the job generates events rather than 
      reads them from an input file
  - dsid     : short dataset definition, still uniquely identifying the dataset
  - location : location of the dataset catalog:
    - 'local' : the dataset catalog resides in $project/datasets/$family/catalog/$defname.files
    - 'sam'   : the dataset catalog resides in SAM 

  example: 

#+begin_src 
job.fInputDataset = Dataset('dig.mu2e.bmum1s52b0.pbar2m.art','bmum1s52b0','local')
#+end_src 
* ------------------------------------------------------------------------------
* back to file:workflow.org
* ------------------------------------------------------------------------------
